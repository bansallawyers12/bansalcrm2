---
description: Git from chat - try agent terminal first, fallback to user task
alwaysApply: true
---

# Git from Chat

When the user asks to **commit**, **push**, **pull**, or run **git** from this chat:

1. **Try running git from chat first** (agent terminal with full permissions):
   - Use the **Shell** tool with **required_permissions: ["all"]** for every git command.
   - On Windows PowerShell use `Set-Location "project-root"; git ...` (no `&&`).
   - **Pull:** `git pull origin master`
   - **Push:** `git push origin master`
   - **Commit and push:** `scripts\commit-and-push.cmd "message"` from project root (ask for message if not given, or use "Update").
   - **Status:** `git status`

2. **If the command fails** with "Permission denied" or ".git" / "index.lock" errors:
   - **To fix permanently:** Tell the user to enable Cursor settings so git works from chat. Point them to **`.cursor/GIT-FROM-CHAT-SETUP.md`** (enable **Allow Git Writes Without Approval** and **Auto-Run Network Access** under Cursor Settings → Agents → Auto-Run). Optionally add `git` to the **Command Allowlist**.
   - **Immediate fallback:** Tell the user to run the matching task in **their** terminal: **Ctrl+Shift+P** → **Tasks: Run Task** → **Git: Pull**, **Git: Push**, or **Git: Commit and Push**. For full sync: **Git: Sync (Pull, Commit & Push)**.

3. Tasks are in `.vscode/tasks.json` and run in the user's integrated terminal.
